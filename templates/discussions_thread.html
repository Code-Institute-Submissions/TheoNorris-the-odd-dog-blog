{% extends 'base.html' %}{% block content %}

<div class="image-plus-button-cont">
  <img
    class="discussions-image"
    src="{{url_for('static', filename='images/frenchy.jpg')}}"
    alt="French Bulldog"
  />
</div>

<div class="reply-title-div">
  <h2 class="reply-title">Reply</h2>
</div>

<div class="row">
  <div class="col-4 date-div">
    <p class="comment-date">{{comment.date_time}}</p>
  </div>

  <div class="col-8 comments-box">
    <p class="comment-title">
      <strong>{{comment.title}}</strong>
    </p>
    <p class="author-text">Author: {{ comment.username }}</p>

    <p class="comments">{{comment.comment}}</p>
  </div>
</div>

{% for reply in reply_comment %}

<div class="reply-comments-div">
  <div class="row">
    <div class="col-3 thread-user-time">
      <h5 class="reply-comment-user">{{ reply.username }}</h5>
      <p class="thread-date-time">{{ reply.date_time }}</p>
    </div>
    <div class="col-8">
      <p class="thread-reply-comment">{{ reply.comment }}</p>
      <div class="edit-reply-button-div">
        <form
          action="{{ url_for('update_likes_for_reply', reply_id=reply._id)  }}"
          method="POST"
        >
          <button value="1" name="likes" type="submit" class="like-button">
            <i class="fas fa-heart heart"></i>
          </button>
        </form>
        <label class="interactive-buttons">{{reply.likes}}</label>
        <a
          class="thread-edit"
          href="{{ url_for('edit_reply', comment_id=reply._id)}}"
          >Edit</a
        >
        <a class="" href="{{ url_for('delete_reply', reply_id=reply._id)}}"
          >Remove</a
        >
      </div>
    </div>
  </div>
</div>

{% endfor %}

<form
  class="needs-validation form-group reply-form"
  action="{{ url_for('reply', comment_id=comment._id) }}"
  method="POST"
  novalidate
>
  <textarea name="date_time" hidden>{{ now }}</textarea>
  <div class="form-group">
    <input
      type="text"
      class="form-control"
      id="username"
      name="username"
      placeholder="Enter Username"
      required
      maxlength="10"
    />
    <div class="invalid-feedback">
        Your username must be 3-10 characters long.
      </div>
  </div>
  <div class="form-group">
    <textarea
      class="form-control"
      id="comment"
      name="comment"
      rows="3"
      placeholder="Your reply...."
      required
      maxlength="254"
    ></textarea>
    <div class="invalid-feedback">
        Enter Comment
      </div>
  </div>
  <div class="buttons">
    <input type="button" class="btn btn-primary no-button" onclick="window.location.href='{{ url_for('discussions') }}';" value="Cancel" />
    <button
      class="btn btn-primary yes-button"
      type="Reply"
    >
      Reply
    </button>
  </div>
</form>

{% endblock %}
